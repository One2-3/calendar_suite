/* =========================
   Calendar header (paper-like)
   ========================= */
   .cal-header {
    padding: 26px 22px 8px 22px;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
  }

  .cal-status{
    padding: 6px 22px 0 22px;
    min-height: 22px;
    color: var(--muted);
    font-size: 13px;
  }
  .cal-status .err{
    color: var(--danger);
  }
  
  .cal-title {
    font-size: 52px;
    font-weight: 600;
    letter-spacing: -0.02em;
    font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  }
  
  .cal-actions {
    display: inline-flex;
    gap: 10px;
    padding-top: 12px;
  }
  
  /* 스샷처럼 “작고 절제된” 화살표 */
  .month-nav {
    border: 0;
    background: transparent;
    color: var(--muted);
    font-size: 20px;
    line-height: 1;
    padding: 6px 6px;
  }
  .month-nav:active { transform: translateY(1px); }
  
  /* =========================
     Weekday row
     ========================= */
  .weekdays {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    padding: 10px 22px 0 22px;
  }
  
  .weekday {
    text-align: center;
    font-size: 15px;
    color: var(--muted);
    font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
  }
  .weekday.sun { color: var(--danger); }
  
  /* =========================
     Month grid (air + minimal)
     - 선/박스 제거, 여백 크게
     ========================= */
  .month-wrap {
    position: relative;
    padding: 18px 22px 140px 22px; /* 아래 오늘 버튼+하단네비 여유 */
  }
  
  /* 스샷처럼 “주 간격이 큼” */
  .month-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    column-gap: 0;
    row-gap: 74px; /* 핵심: 주 간 여백 */
  }
  
  /* 버튼이지만 달력 셀처럼 보이게 */
  .day-cell {
    border: 0;
    background: transparent;
    padding: 0;
    min-height: 170px;     /* 셀 높이 크게 */
    text-align: left;      /* 칩 영역 왼쪽 정렬 */
    position: relative;
  }
  
  /* 선택된 날짜: 스샷처럼 “큰 연회색 면(라운드 거의 없음)” */
  .day-cell.selected {
    background: rgba(17, 17, 17, 0.06);
  }
  @media (prefers-color-scheme: dark) {
    .day-cell.selected {
      background: rgba(244, 244, 245, 0.08);
    }
  }
  
  /* 이전/다음달 날짜는 연하게 */
  .day-cell.out {
    opacity: 0.33;
  }
  
  /* 상단: 날짜 숫자 중앙 정렬 */
  .day-top {
    display: grid;
    justify-items: center;
    gap: 6px;
  }
  
  /* 날짜 숫자 타이포 */
  .day-num {
    font-size: 22px;
    font-weight: 500;
    color: var(--fg);
    font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
    text-align: center;
  }
  .day-num.sun { color: var(--danger); }
  
  /* 오늘 표시: 스샷처럼 아주 작은 라벨 */
  .today-tag {
    font-size: 12px;
    color: var(--muted);
    border: 1px solid var(--line);
    padding: 4px 10px;
    border-radius: 999px;
    background: transparent;
  }
  
  /* 칩 영역: 날짜 아래, 왼쪽 정렬, 회색 종이 조각 느낌 */
  .chips {
    /* 기존보다 더 아래로 내려서 period bar lane 공간 확보 */
    margin-top: 54px;
    display: grid;
    gap: 10px;
    padding: 0 10px;
    align-content: start;
  }
  /* 칩: 작은 회색 + 점 */
  .chip{
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 10px 12px;
    background: rgba(17, 17, 17, 0.06);
    color: rgba(17, 17, 17, 0.75);
    border-radius: 2px;
    border: 1px solid transparent;
    font-size: 14px;
    line-height: 1.2;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  @media (prefers-color-scheme: dark) {
    .chip{
      background: rgba(244, 244, 245, 0.08);
      color: rgba(244, 244, 245, 0.78);
    }
  }
  /* ✅ 미완료 + 지난 할일: 붉은 표시 */
.chip.danger{
  border-color: rgba(209, 26, 42, 0.45);
}
.chip.danger .dot{
  background: var(--danger);
}
  
  /* =========================
     Today button (bottom-left)
     ========================= */
  .today-btn {
    position: fixed;
    left: 22px;
    bottom: calc(86px + var(--safe-bottom));
    border: 1px solid var(--line);
    background: rgba(255,255,255,0.90);
    backdrop-filter: blur(8px);
    color: var(--muted);
    border-radius: 4px; /* 스샷처럼 각진 */
    padding: 10px 14px;
    font-size: 14px;
  }
  @media (prefers-color-scheme: dark) {
    .today-btn {
      background: rgba(11,12,16,0.90);
    }
  }
  .period-layer{
    position: absolute;
    left: 22px;
    right: 22px;
    top: 18px; /* month-wrap padding-top과 맞춤 */
    pointer-events: none;
    z-index: 2;
  }
  
  .period-row{
    position: absolute;
    left: 0;
    right: 0;
    height: 0;
  }
  
  /* 바 위치: 날짜 숫자 아래쪽 정도 */
  .period-bar{
    --c1: 1;
    --c2: 2;
    --lane: 0;
  
    position: absolute;
    left: calc((var(--c1) - 1) * (100% / 7));
    width: calc((var(--c2) - var(--c1)) * (100% / 7));
  
    top: calc(42px + (var(--lane) * 26px));
    height: 22px;
  
    border-radius: 12px;
    background: rgba(17, 17, 17, 0.08);
    border: 1px solid var(--line);
    padding: 3px 10px;
  
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  @media (prefers-color-scheme: dark) {
    .period-bar{
      background: rgba(244, 244, 245, 0.10);
    }
  }
  
  .period-bar .txt{
    font-size: 12px;
    color: var(--muted);
  }
  /* =========================
   BottomSheet (minimal)
   ========================= */
.sheet-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.28);
  backdrop-filter: blur(2px);
  z-index: 80;
  display: grid;
  place-items: end center;
}

.sheet{
  width: min(560px, 100vw);
  background: var(--bg);
  border-top-left-radius: 18px;
  border-top-right-radius: 18px;
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
  padding: 12px 18px calc(14px + var(--safe-bottom)) 18px;
}

.sheet-grab{
  width: 44px;
  height: 5px;
  border-radius: 999px;
  background: var(--line);
  margin: 4px auto 10px auto;
}

.sheet-head{
  display: flex;
  align-items: baseline;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.sheet-date{
  font-size: 15px;
  font-weight: 800;
  letter-spacing: -0.01em;
  color: var(--fg);
}

.sheet-x{
  border: 0;
  background: transparent;
  color: var(--muted);
  font-size: 14px;
  padding: 6px 8px;
}

.sheet-tabs{
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 8px;
  margin: 8px 0 12px 0;
}

.tab{
  border: 1px solid var(--line);
  background: transparent;
  color: var(--muted);
  padding: 10px 10px;
  border-radius: 14px;
  font-size: 13px;
  font-weight: 700;
}

.tab.active{
  color: var(--fg);
  background: rgba(17,17,17,0.06);
}
@media (prefers-color-scheme: dark){
  .tab.active{ background: rgba(244,244,245,0.08); }
}

.sheet-error{
  border: 1px solid rgba(209,26,42,0.25);
  background: rgba(209,26,42,0.10);
  color: var(--danger);
  border-radius: 14px;
  padding: 10px 12px;
  margin-bottom: 10px;
}
.sheet-error-title{ font-weight: 800; font-size: 13px; }
.sheet-error-body{
  margin: 8px 0 0 0;
  font-size: 12px;
  white-space: pre-wrap;
  color: rgba(209,26,42,0.9);
}

.sheet-body{
  display: grid;
  gap: 12px;
  padding: 2px 0 10px 0;
}

.form{ display: grid; gap: 8px; }

.lbl{
  font-size: 12px;
  color: var(--muted);
  margin-top: 6px;
}

.in, .ta{
  width: 100%;
  border: 1px solid var(--line);
  background: transparent;
  color: var(--fg);
  border-radius: 14px;
  padding: 12px 12px;
}

.ta{
  min-height: 88px;
  resize: vertical;
}

.row{ display: flex; gap: 10px; align-items: center; }

.chk{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: var(--fg);
  font-size: 13px;
}

.sheet-actions{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-top: 10px;
}

.btn-lite{
  border: 1px solid var(--line);
  background: transparent;
  color: var(--fg);
  border-radius: 14px;
  padding: 12px 12px;
  font-weight: 800;
}

.btn-solid{
  border: 1px solid var(--line);
  background: rgba(17,17,17,0.08);
  color: var(--fg);
  border-radius: 14px;
  padding: 12px 12px;
  font-weight: 900;
}
@media (prefers-color-scheme: dark){
  .btn-solid{ background: rgba(244,244,245,0.10); }
}
